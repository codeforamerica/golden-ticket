@using GoldenTicket.Models
@using GoldenTicket.Calc
@model List<Applicant>
           
<table class="table-applications">
    <thead>
        <tr>
            <td class="table-applications-col-fname">
                <span>First Name</span>
            </td>
            <td class="table-applications-col-lname">
                <span>Last Name</span>
            </td>
            <td class="table-applications-col-gender">
                <span>Gender</span>
            </td>
            <td class="table-applications-col-poverty">
                <span>Poverty</span>
            </td>
            <td class="table-applications-col-delete">
                <span>Delete</span>
            </td>
        </tr>
    </thead>

    <tbody>
        @foreach (Applicant applicant in Model)
        {
            <tr>
                <td class="table-applications-col-fname">
                   @Html.ActionLink(linkText: applicant.StudentFirstName, actionName: "ViewApplicant", routeValues: new { id = applicant.ID })
                </td>
                <td class="table-applications-col-lname">
                    @Html.ActionLink(linkText: applicant.StudentLastName, actionName: "ViewApplicant", routeValues: new { id = applicant.ID })
                </td>
                <td class="table-applications-col-gender">
                    @Html.ActionLink(linkText: applicant.StudentGender.ToString(), actionName: "ViewApplicant", routeValues: new { id = applicant.ID })
                </td>
                <td class="table-applications-col-poverty">
                    @if (IncomeCalculator.IsBelowPovertyLine(applicant))
                    {
                        @Html.ActionLink(linkText: "Below", actionName: "ViewApplicant", routeValues: new {id=applicant.ID})
                    }
                    else
                    {
                        @Html.ActionLink(linkText: "Above", actionName: "ViewApplicant", routeValues: new { id = applicant.ID })
                    }
                </td>
                <td class="table-applications-col-delete">
                    @Html.ActionLink(linkText: "Delete", actionName: "ViewApplicant", routeValues: new { id = applicant.ID })
                </td>
            </tr>
        }
    </tbody>
</table>
